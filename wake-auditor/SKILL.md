---
name: wake-auditor
description: 使用 Wake Printer 脚本自动化 Solidity 智能合约安全审计，通过 Python 脚本和 Wake 中间表示(IR)技术快速识别安全漏洞和风险模式
license: Apache 2.0
allowed-tools: [Bash, Read, Write, Edit, Glob, Grep]
metadata:
  category: blockchain
  tags: [solidity, audit, security, wake, smart-contracts]
  version: 1.0.0
---

# Wake Auditor Skill

这个技能专门用于自动化 Solidity 智能合约安全审计，基于 Wake Printer 系统实现静态分析脚本化。

## 核心功能

### 1. 智能合约静态分析
- 自动扫描合约中的常见安全漏洞模式
- 使用 Wake 中间表示(IR)进行深度分析
- 通过 Python 脚本自定义审计规则

### 2. 风险模式识别
- 重入攻击检测
- 访问控制漏洞
- 整数溢出/下溢
- 未检查的外部调用
- 逻辑漏洞识别

### 3. 自定义审计脚本
- 创建个性化的 printer 脚本
- 添加特定的安全检查规则
- 生成详细的审计报告

## 使用指南

### 基础审计流程
1. **项目初始化**：设置 Wake 环境
2. **合约分析**：扫描 Solidity 源码
3. **风险识别**：运行安全检查
4. **报告生成**：输出审计结果

### 高级功能
- 自定义审计规则
- 批量合约分析
- 集成 CI/CD 流程

## 审计模式

### 快速扫描
```
对单个合约进行基础安全检查，识别常见漏洞模式
```

### 深度分析
```
全面分析合约逻辑，包括复杂的业务逻辑漏洞
```

### 批量审计
```
处理整个项目的合约文件，生成综合报告
```

## 安全检查清单

✅ **访问控制**：检查函数权限修饰符
✅ **重入保护**：识别重入攻击风险
✅ **数值安全**：检测整数溢出问题
✅ **外部调用**：验证外部调用安全性
✅ **业务逻辑**：分析合约经济模型安全性

## 输出格式

- **控制台报告**：实时显示审计进度
- **JSON报告**：结构化漏洞数据
- **HTML报告**：可视化审计结果
- **Markdown报告**：技术文档格式

## 最佳实践

1. **定期审计**：代码变更后及时重新审计
2. **组合工具**：与其他安全工具配合使用
3. **手动验证**：对发现的漏洞进行人工确认
4. **持续学习**：关注新的攻击模式和防御技术

## 故障排除

### 常见问题
- Wake 环境配置问题
- Solidity 版本兼容性
- 复杂项目结构处理

### 解决方案
参考 references/ 目录中的详细文档和示例代码

---

## 开始使用

这个技能应该在你需要：
- 审计 Solidity 智能合约安全性
- 自动化安全漏洞检测
- 创建自定义审计脚本
- 生成专业安全报告

时使用。确保你已经安装了 Wake 工具并有基本的 Solidity 开发经验。